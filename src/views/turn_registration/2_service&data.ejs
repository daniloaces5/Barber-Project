<%- include("../partials/head") %>

    <body class="bg-white min-h-screen flex flex-col">
        <%- include("../partials/header") %>
            <section class="flex-1 flex items-center justify-center py-10 px-4">
            <div class="w-full max-w-7xl rounded-2xl py-10 px-8 md:px-16 mx-auto shadow-xl border border-gray-300">
                <div class="text-center">
                    <h2 class="text-4xl font-bold text-center mb-10 text-gray-800">Reserva tu cita</h2>

                </div>
                <form id="barber-form" action="/guardar-service&data" method="POST">
                    <div class="container">
                        <h3 class="font-bold text-xl text-emerald-600 mb-5">2. Selecciona Servicio y Fecha </h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div class="relative inline-block w-64">
                                <select name="servicio"
                                    class="block w-full appearance-none rounded-xl border border-emerald-600 bg-gradient-to-r from-emerald-500 to-emerald-400 px-4 py-2.5 pr-10 text-white font-semibold shadow-md hover:from-emerald-600 hover:to-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-300 transition-all duration-200"
                                    aria-label="select">
                                    <option disabled selected class="text-gray-500 bg-white">Selecciona un servicio
                                    </option>
                                    <% servicios.forEach(service=> { %>
                                        <option value="<%= service.id %>" data-id="<%= service.servicio_id %>"
                                            data-name="<%= service.name %>" data-price="<%= service.price %>"
                                            data-duration="<%= service.duration %>" class="text-gray-800 bg-white">
                                            <%= `${service.name} ($${service.price}) - ${service.duration} min` %>
                                        </option>

                                        <% }); %>
                                </select>
                                <span
                                    class="icon-[iconoir--nav-arrow-down] pointer-events-none absolute top-1/2 right-3 -translate-y-1/2 flex items-center justify-center text-white text-xl opacity-90"></span>
                            </div>
                            <div class="flex flex-col md:flex-row md:items-center gap-4">
                                <h3 class="font-semibold text-gray-700">Seleccione una fecha:</h3>

                                <div id="date-wrapper" class="relative cursor-pointer">
                                    <input type="date" id="date-input" name="data" min="<%= min %>" max="<%= max %>"
                                        class="peer border border-emerald-400/70 rounded-lg pl-11 pr-3 py-2 text-gray-700 bg-white shadow-sm transition-all duration-200 cursor-pointer focus:outline-none focus:ring-2 focus:ring-emerald-300 focus:border-emerald-500 hover:border-emerald-500" />

                                    <!-- Ãcono de calendario -->
                                    <svg class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-emerald-500 peer-focus:text-emerald-600 transition-colors pointer-events-none"
                                        xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                        stroke="currentColor" stroke-width="1.5">
                                        <path stroke-linecap="round" stroke-linejoin="round"
                                            d="M6.75 3v2.25M17.25 3v2.25M3 9h18M4.5 7.5v12.75A2.25 2.25 0 006.75 22.5h10.5a2.25 2.25 0 002.25-2.25V7.5" />
                                    </svg>
                                </div>
                            </div>


                            <input type="hidden" name="serviceId" id="serviceId">
                            <input type="hidden" name="serviceName" id="serviceName">
                            <input type="hidden" name="servicePrice" id="servicePrice">
                            <input type="hidden" name="serviceDuration" id="serviceDuration">

                        </div>
                        <!-- controles -->
                        <div class="mt-15 flex items-center justify-end max-w-7/8 mx-auto">
                            <div class="flex gap-3">
                                <button id="next"
                                    class="px-6 py-3 rounded-lg text-white bg-gray-400 text-lg font-semibold disabled:opacity-70"
                                    type="submit" disabled>
                                    Siguiente
                                </button>

                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </section>
            <%- include("../partials/footer") %>
                <script src="/js/2_service.logic.js"></script>
    </body>

    </html>